"use strict";(self["webpackChunkbro_lottery"]=self["webpackChunkbro_lottery"]||[]).push([[295],{40295:function(a,s,t){t.r(s),t.d(s,{default:function(){return T}});var i=t(56768),e=t(90144),n=t(24232),d=t(45130),l=t(55129),v=t(78875);const o={class:"modal_content"},c={class:"data"},u={class:"bg"},b={class:"field"};var f={__name:"LoginModal",setup(a){(0,l.o)();const s=(0,i.WQ)("emitter"),t=(0,v.hN)(),f=(0,e.KR)(!1),r=(0,e.KR)("");function h(){f.value=!0,setTimeout((()=>{s.emit("hide_login_modal")}),200)}async function p(){try{h()}catch(a){console.error("LoginModal.vue:",a),t.notify({group:"default",speed:200,duration:1e3,title:"Invalid token",type:"error"})}}return(a,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("section",{class:(0,n.C4)(["modal",{closing:f.value}])},[(0,i.Lk)("div",o,[(0,i.Lk)("div",c,[s[3]||(s[3]=(0,i.Lk)("div",{class:"modal_title"},[(0,i.Lk)("span",null,"Admin"),(0,i.Lk)("span",null,"Admin")],-1)),s[4]||(s[4]=(0,i.Lk)("div",{class:"title"},"Log In",-1)),(0,i.Lk)("div",u,[(0,i.Lk)("div",b,[(0,i.bo)((0,i.Lk)("input",{type:"password",class:"input","onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),placeholder:"Password"},null,512),[[d.Jo,r.value]])])]),(0,i.Lk)("button",{class:"btn",onClick:s[1]||(s[1]=(0,d.D$)((a=>p()),["prevent"]))},s[2]||(s[2]=[(0,i.Lk)("span",null,"Log in",-1)])),s[5]||(s[5]=(0,i.Fv)('<div class="bulbs" data-v-22e3c0f0><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div><div class="bulb" data-v-22e3c0f0></div></div>',1))])])],2),(0,i.Lk)("div",{class:(0,n.C4)(["modal_overlay",{closing:f.value}])},null,2)],64))}},r=t(71241);const h=(0,r.A)(f,[["__scopeId","data-v-22e3c0f0"]]);var p=h,g=t(63935);function m(a,s){return(0,i.uX)(),(0,i.CE)("header",null,s[0]||(s[0]=[(0,i.Lk)("div",{class:"cont"},[(0,i.Lk)("div",{class:"logo"},[(0,i.Lk)("img",{src:g,alt:""})])],-1)]))}const k={},w=(0,r.A)(k,[["render",m],["__scopeId","data-v-7a293440"]]);var R=w;t(44114),t(98992),t(54520);function j(){const a={parsePx:a=>parseFloat(a.replace(/px/,"")),getRandomInRange:(a,s,t=0)=>{const i=Math.pow(10,t),e=Math.random()*(s-a)+a;return Math.floor(e*i)/i},getRandomItem:a=>a[Math.floor(Math.random()*a.length)],getScaleFactor:()=>Math.log(window.innerWidth)/Math.log(1920),debounce:(a,s)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout((()=>a(...i)),s)}}},s=Math.PI/180,t={confettiesNumber:250,confettiRadius:6,confettiColors:["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"],emojies:[],svgIcon:null};class i{constructor({initialPosition:t,direction:i,radius:e,colors:n,emojis:d,svgIcon:l}){const v=a.getRandomInRange(.9,1.7,3)*a.getScaleFactor();this.speed={x:v,y:v},this.finalSpeedX=a.getRandomInRange(.2,.6,3),this.rotationSpeed=d.length||l?.01:a.getRandomInRange(.03,.07,3)*a.getScaleFactor(),this.dragCoefficient=a.getRandomInRange(5e-4,9e-4,6),this.radius={x:e,y:e},this.initialRadius=e,this.rotationAngle="left"===i?a.getRandomInRange(0,.2,3):a.getRandomInRange(-.2,0,3),this.emojiRotationAngle=a.getRandomInRange(0,2*Math.PI),this.radiusYDirection="down";const o="left"===i?a.getRandomInRange(82,15)*s:a.getRandomInRange(-15,-82)*s;this.absCos=Math.abs(Math.cos(o)),this.absSin=Math.abs(Math.sin(o));const c=a.getRandomInRange(-150,0),u={x:t.x+("left"===i?-c:c)*this.absCos,y:t.y-c*this.absSin};this.position={...u},this.initialPosition={...u},this.color=d.length||l?null:a.getRandomItem(n),this.emoji=d.length?a.getRandomItem(d):null,this.svgIcon=null,l&&(this.svgImage=new Image,this.svgImage.src=l,this.svgImage.onload=()=>{this.svgIcon=this.svgImage}),this.createdAt=Date.now(),this.direction=i}draw(a){const{x:s,y:t}=this.position,{x:i,y:e}=this.radius,n=window.devicePixelRatio;this.svgIcon?(a.save(),a.translate(n*s,n*t),a.rotate(this.emojiRotationAngle),a.drawImage(this.svgIcon,-i,-e,2*i,2*e),a.restore()):this.color?(a.fillStyle=this.color,a.beginPath(),a.ellipse(s*n,t*n,i*n,e*n,this.rotationAngle,0,2*Math.PI),a.fill()):this.emoji&&(a.font=i*n+"px serif",a.save(),a.translate(n*s,n*t),a.rotate(this.emojiRotationAngle),a.textAlign="center",a.fillText(this.emoji,0,e/2),a.restore())}updatePosition(a,s){const t=s-this.createdAt;this.speed.x>this.finalSpeedX&&(this.speed.x-=this.dragCoefficient*a),this.position.x+=this.speed.x*("left"===this.direction?-this.absCos:this.absCos)*a,this.position.y=this.initialPosition.y-this.speed.y*this.absSin*t+.00125*Math.pow(t,2)/2}isVisible(a){return this.position.y<a+100}}class e{constructor(){this.canvas=document.createElement("canvas"),this.canvas.style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9; pointer-events: none;",document.querySelector(".data").appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.confetti=[],this.lastUpdated=Date.now(),window.addEventListener("resize",a.debounce((()=>this.resizeCanvas()),200)),this.resizeCanvas(),requestAnimationFrame((()=>this.loop()))}resizeCanvas(){this.canvas.width=window.innerWidth*window.devicePixelRatio,this.canvas.height=window.innerHeight*window.devicePixelRatio}addConfetti(a={}){const{confettiesNumber:s,confettiRadius:e,confettiColors:n,emojies:d,svgIcon:l}={...t,...a},v=5*window.innerHeight/7;for(let t=0;t<s/2;t++)this.confetti.push(new i({initialPosition:{x:0,y:v},direction:"right",radius:e,colors:n,emojis:d,svgIcon:l})),this.confetti.push(new i({initialPosition:{x:window.innerWidth,y:v},direction:"left",radius:e,colors:n,emojis:d,svgIcon:l}))}resetAndStart(a={}){this.confetti=[],this.addConfetti(a)}loop(){const a=Date.now(),s=a-this.lastUpdated;this.lastUpdated=a,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.confetti=this.confetti.filter((t=>(t.updatePosition(s,a),t.draw(this.context),t.isVisible(this.canvas.height)))),requestAnimationFrame((()=>this.loop()))}}return new e}const I={class:"data"},C={class:"drum"},L={class:"slots"},y={class:"bottom"},x={class:"screen"},_={key:0,class:"start_message"},A={key:1,class:"list"},F={key:0},M={class:"fireworks"};var P={__name:"Index",setup(a){const s=(0,l.o)(),t=(0,e.KR)(!1),v=(0,e.KR)(!1),o=(0,e.KR)(!1),c=(0,e.KR)(null),u=(0,e.KR)(null),b=(0,e.KR)([]),f=(0,e.KR)(["shdbsdjcsjdkcnksjdncshdbsdjcsjdkcnksjdncfsvs","shdbsdjcsjdkcnksjdncshdbsdjcsjdkcnksjdncfsvs","shdbsdjcsjdkcnksjdncshdbsdjcsjdkcnksjdncfsvs","shdbsdjcsjdkcnksjdncshdbsdjcsjdkcnksjdncfsvs","shdbsdjcsjdkcnksjdncshdbsdjcsjdkcnksjdncfsvs"]),r=(0,e.KR)(null),h=(0,e.KR)(null),p=(0,e.Kh)({}),g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};function m(){t.value=!0,R()}function k(){p.value={finalPos:3619,startOffset:9e3+500*Math.random(),height:77*b.value.length,duration:9e3,isFinished:!1},g(w)}function w(a){null==h.value&&(h.value=a);const s=a-h.value;if(p.value.isFinished)return;const t=Math.max(p.value.duration-s,0),i=2,e=Math.pow(t,i)/Math.pow(p.value.duration,i)*p.value.startOffset,n=-1*Math.floor((e+p.value.finalPos)%p.value.height);r.value.style.transform="translateY("+n+"px)",s>p.value.duration&&(p.value.isFinished=!0),p.value.isFinished?(p.value=null,h.value=null):g(w)}function R(){v.value=!0,null===c.value?c.value=1:c.value++,k(),setTimeout((()=>{v.value=!1,o.value=!0,u.value.addConfetti(),setTimeout((()=>u.value.addConfetti()),1500),setTimeout((()=>o.value=!1),3e3)}),3e3)}return(0,i.sV)((async()=>{u.value=j(),b.value=await s.getLotteryParticipants()})),(a,s)=>((0,i.uX)(),(0,i.CE)("section",I,[(0,i.Lk)("section",{class:(0,n.C4)(["top",{congratulation:o.value}])},[(0,i.Lk)("div",C,[(0,i.Lk)("div",L,[(0,i.Lk)("div",{class:"slot",ref_key:"slot",ref:r},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.value,((a,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"option"},[(0,i.Lk)("span",null,(0,n.v_)(a),1)])))),128))],512)])]),(0,i.Lk)("button",{class:(0,n.C4)(["start_btn",{disabled:c.value===f.value.length||v.value}]),onClick:s[0]||(s[0]=(0,d.D$)((a=>m()),["prevent"]))},"START",2),s[1]||(s[1]=(0,i.Fv)('<div class="bulb bulb1" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb2" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb3" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb4" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb5" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb6" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb7" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb8" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb9" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb10" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb11" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb12" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb13" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb14" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb15" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb16" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb17" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb18" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb19" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb20" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb21" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb22" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb23" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb24" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb25" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb26" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb27" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb28" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb29" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb30" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb31" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb32" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb33" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb34" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb35" data-v-6fa04678><span data-v-6fa04678></span></div><div class="bulb bulb36" data-v-6fa04678><span data-v-6fa04678></span></div>',36))],2),(0,i.Lk)("section",y,[(0,i.Lk)("div",x,[t.value?((0,i.uX)(),(0,i.CE)("div",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.value.slice(0,c.value),((a,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s},[!v.value||s<c.value-1?((0,i.uX)(),(0,i.CE)("span",F,(0,n.v_)(a),1)):(0,i.Q3)("",!0)])))),128))])):((0,i.uX)(),(0,i.CE)("div",_,s[2]||(s[2]=[(0,i.Lk)("div",{class:"title"},"BROTTERY",-1),(0,i.Lk)("div",{class:"desc"},"Press start",-1)])))])]),(0,i.bo)((0,i.Lk)("section",M,s[3]||(s[3]=[(0,i.Lk)("div",{class:"before"},null,-1),(0,i.Lk)("div",{class:"after"},null,-1)]),512),[[d.aG,o.value]])]))}};const K=(0,r.A)(P,[["__scopeId","data-v-6fa04678"]]);var X=K,E={__name:"AdminPage",setup(a){const s=(0,i.WQ)("emitter"),t=(0,e.KR)("true");return s.on("hide_login_modal",(()=>{t.value=!1})),(a,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(R),t.value?((0,i.uX)(),(0,i.Wv)(p,{key:0})):((0,i.uX)(),(0,i.Wv)(X,{key:1}))],64))}};const S=E;var T=S}}]);
//# sourceMappingURL=295.ff67d2bc.js.map